model Offer {
  id             String          @id @default(cuid())
  title          String
  description    String
  price          Float
  imageUrl       String[]
  specifications Specification[]
  promotion      Float?
  condition      OfferCondition  @default(NEW)
  sellerId       String
  slug           String          @unique
  keywords       Keyword[]
  createdAt      DateTime        @default(now())
  status         OfferStatus     @default(ACTIVE)
  updatedAt      DateTime        @default(now()) @updatedAt
  categoryId     String
  category       Category        @relation(fields: [categoryId], references: [id])
  seller         User            @relation(fields: [sellerId], references: [id])
  sale           Sale?           @relation("offer_sale")
  wishlist       Wishlist[]

  @@index([sellerId, status])
  @@index([status])
}

model Specification {
  id      String @id @default(cuid())
  key     String
  value   String
  offerId String
  offer   Offer  @relation(fields: [offerId], references: [id])

  @@index([offerId])
}

model Keyword {
  id     String  @id @default(cuid())
  word   String  @unique
  offers Offer[]

  @@index([word])
}

enum OfferStatus {
  ACTIVE
  INACTIVE
  SOLD
  PENDING
  CANCELED
  SOLD_OUT
}

enum OfferCondition {
  NEW
  USED_LIKE_NEW
  USED_GOOD
  USED_FAIR
}
